/*
gyroid = make_shape {
    dist p : cos(p[X])*sin(p[Y]) + cos(p[Y])*sin(p[Z]) + cos(p[Z])*sin(p[X]),
    bbox: everything.bbox,
    is_3d: true,
};
*/

smooth_intersection .1 (
    torus(tau*2,tau),
    rect_to_polar (tau*6) (gyroid >> shell .1 >> df_scale .33),
) >> colour (hsv2rgb(1/3,1,.5))

//rect_to_polar 1.1 (circle 1 >> translate(0,2))
